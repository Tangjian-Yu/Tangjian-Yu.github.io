<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>IMU+è½®é€Ÿè®¡çš„ESKFç®€æ˜ä»‹ç» | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="IMU + è½®é€Ÿè®¡çš„ ESKF ç®€æ˜ä»‹ç»ï¼ˆåŸºäºå³ä¸å˜è¯¯å·®ã€IMU é¢„æµ‹ + è½®é€Ÿè®¡çº¿é€Ÿåº¦è§‚æµ‹ï¼‰  1. å¼•è¨€åœ¨ç§»åŠ¨æœºå™¨äººä¸­ï¼ŒIMUï¼ˆæƒ¯æ€§æµ‹é‡å•å…ƒï¼‰æä¾›é«˜é¢‘é¢„æµ‹ï¼Œè€Œè½®é€Ÿè®¡æä¾›ä½é¢‘ä½†ç¨³å®šçš„å‰å‘é€Ÿåº¦ä¿¡æ¯ã€‚äºŒè€…ç»“åˆçš„ ESKFï¼ˆError-State Kalman Filterï¼‰èƒ½å¤Ÿå®ç°å¿«é€Ÿã€ç¨³å®šä¸”ä½æ¼‚ç§»çš„çŠ¶æ€ä¼°è®¡ã€‚ æœ¬ç¯‡ä¸»è¦èšç„¦ï¼š  é¢„æµ‹ï¼šä½¿ç”¨ IMUï¼ˆåŠ é€Ÿåº¦ + è§’é€Ÿåº¦ï¼‰è¿›è¡ŒçŠ¶æ€ä¼ æ’­ æ›´æ–°ï¼šä½¿ç”¨è½®é€Ÿè®¡">
<meta property="og:type" content="article">
<meta property="og:title" content="IMU+è½®é€Ÿè®¡çš„ESKFç®€æ˜ä»‹ç»">
<meta property="og:url" content="http://example.com/2025/11/17/IMU-%E8%BD%AE%E9%80%9F%E8%AE%A1%E7%9A%84ESKF%E7%AE%80%E6%98%8E%E4%BB%8B%E7%BB%8D/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="IMU + è½®é€Ÿè®¡çš„ ESKF ç®€æ˜ä»‹ç»ï¼ˆåŸºäºå³ä¸å˜è¯¯å·®ã€IMU é¢„æµ‹ + è½®é€Ÿè®¡çº¿é€Ÿåº¦è§‚æµ‹ï¼‰  1. å¼•è¨€åœ¨ç§»åŠ¨æœºå™¨äººä¸­ï¼ŒIMUï¼ˆæƒ¯æ€§æµ‹é‡å•å…ƒï¼‰æä¾›é«˜é¢‘é¢„æµ‹ï¼Œè€Œè½®é€Ÿè®¡æä¾›ä½é¢‘ä½†ç¨³å®šçš„å‰å‘é€Ÿåº¦ä¿¡æ¯ã€‚äºŒè€…ç»“åˆçš„ ESKFï¼ˆError-State Kalman Filterï¼‰èƒ½å¤Ÿå®ç°å¿«é€Ÿã€ç¨³å®šä¸”ä½æ¼‚ç§»çš„çŠ¶æ€ä¼°è®¡ã€‚ æœ¬ç¯‡ä¸»è¦èšç„¦ï¼š  é¢„æµ‹ï¼šä½¿ç”¨ IMUï¼ˆåŠ é€Ÿåº¦ + è§’é€Ÿåº¦ï¼‰è¿›è¡ŒçŠ¶æ€ä¼ æ’­ æ›´æ–°ï¼šä½¿ç”¨è½®é€Ÿè®¡">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-11-17T13:10:59.000Z">
<meta property="article:modified_time" content="2025-11-17T13:11:54.000Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 8.1.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-IMU-è½®é€Ÿè®¡çš„ESKFç®€æ˜ä»‹ç»" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/11/17/IMU-%E8%BD%AE%E9%80%9F%E8%AE%A1%E7%9A%84ESKF%E7%AE%80%E6%98%8E%E4%BB%8B%E7%BB%8D/" class="article-date">
  <time class="dt-published" datetime="2025-11-17T13:10:59.000Z" itemprop="datePublished">2025-11-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      IMU+è½®é€Ÿè®¡çš„ESKFç®€æ˜ä»‹ç»
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="IMU-è½®é€Ÿè®¡çš„-ESKF-ç®€æ˜ä»‹ç»"><a href="#IMU-è½®é€Ÿè®¡çš„-ESKF-ç®€æ˜ä»‹ç»" class="headerlink" title="IMU + è½®é€Ÿè®¡çš„ ESKF ç®€æ˜ä»‹ç»"></a>IMU + è½®é€Ÿè®¡çš„ ESKF ç®€æ˜ä»‹ç»</h1><p>ï¼ˆåŸºäºå³ä¸å˜è¯¯å·®ã€IMU é¢„æµ‹ + è½®é€Ÿè®¡çº¿é€Ÿåº¦è§‚æµ‹ï¼‰</p>
<hr>
<h2 id="1-å¼•è¨€"><a href="#1-å¼•è¨€" class="headerlink" title="1. å¼•è¨€"></a>1. å¼•è¨€</h2><p>åœ¨ç§»åŠ¨æœºå™¨äººä¸­ï¼Œ<strong>IMUï¼ˆæƒ¯æ€§æµ‹é‡å•å…ƒï¼‰æä¾›é«˜é¢‘é¢„æµ‹</strong>ï¼Œè€Œ<strong>è½®é€Ÿè®¡æä¾›ä½é¢‘ä½†ç¨³å®šçš„å‰å‘é€Ÿåº¦ä¿¡æ¯</strong>ã€‚<br>äºŒè€…ç»“åˆçš„ ESKFï¼ˆError-State Kalman Filterï¼‰èƒ½å¤Ÿå®ç°å¿«é€Ÿã€ç¨³å®šä¸”ä½æ¼‚ç§»çš„çŠ¶æ€ä¼°è®¡ã€‚</p>
<p>æœ¬ç¯‡ä¸»è¦èšç„¦ï¼š</p>
<ul>
<li><strong>é¢„æµ‹ï¼šä½¿ç”¨ IMUï¼ˆåŠ é€Ÿåº¦ + è§’é€Ÿåº¦ï¼‰è¿›è¡ŒçŠ¶æ€ä¼ æ’­</strong></li>
<li><strong>æ›´æ–°ï¼šä½¿ç”¨è½®é€Ÿè®¡çº¿é€Ÿåº¦ï¼ˆ+ NHC ä¾§å‘&#x2F;å‚å‘çº¦æŸï¼‰è¿›è¡Œè§‚æµ‹æ›´æ–°</strong></li>
</ul>
<p>å¯¹äº IMU é¢„æµ‹æ¨¡å‹ã€è¯¯å·®çŠ¶æ€å®šä¹‰ã€å³ä¸å˜è¯¯å·®ç­‰åŸºç¡€å†…å®¹ï¼Œæœ¬ç¯‡ä¸åšé‡å¤æ¨å¯¼ï¼Œè¯»è€…å¯ç›´æ¥å‚è€ƒï¼š</p>
<p>ğŸ“˜ <strong>åŠé—²å±…å£«ï¼šã€Šç®€æ˜ ESKFã€‹</strong><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/441182819">https://zhuanlan.zhihu.com/p/441182819</a></p>
<hr>
<h2 id="2-ç³»ç»ŸçŠ¶æ€å®šä¹‰ï¼ˆç¤ºä¾‹ï¼‰"><a href="#2-ç³»ç»ŸçŠ¶æ€å®šä¹‰ï¼ˆç¤ºä¾‹ï¼‰" class="headerlink" title="2. ç³»ç»ŸçŠ¶æ€å®šä¹‰ï¼ˆç¤ºä¾‹ï¼‰"></a>2. ç³»ç»ŸçŠ¶æ€å®šä¹‰ï¼ˆç¤ºä¾‹ï¼‰</h2><p>æœ¬æ–‡é‡‡ç”¨ä¸ Fast-LIO&#x2F;IKFoM ä¸€è‡´çš„çŠ¶æ€ç»“æ„ï¼š</p>
<p>$$<br>x &#x3D; {<br>p, R, v,b_g,b_a,R_{WI},T_{WI},s_{\text{wheel}},g<br>}<br>$$</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>($p$)ï¼šIMU ä½ç½®ï¼ˆä¸–ç•Œç³»ï¼‰</li>
<li>($R$)ï¼šIMU å§¿æ€ï¼ˆä¸–ç•Œâ†IMUï¼‰</li>
<li>($v$)ï¼šé€Ÿåº¦ï¼ˆä¸–ç•Œç³»ï¼‰</li>
<li>($b_g, b_a$)ï¼šé™€èºä¸åŠ è®¡é›¶å</li>
<li>($R_{WI}, T_{WI}$)ï¼šIMU â†’ è½®ç³»çš„å¤–å‚ï¼ˆæ—‹è½¬ + å¹³ç§»ï¼‰</li>
<li>($s_{\text{wheel}}$)ï¼šè½®é€Ÿå°ºåº¦</li>
<li>($g$)ï¼šé‡åŠ›æ–¹å‘ï¼ˆS2 æµå½¢ï¼‰</li>
</ul>
<p>è¯¯å·®é‡‡ç”¨ <strong>å³ä¸å˜è¯¯å·®å®šä¹‰</strong>ï¼š</p>
<p>$$<br>R_{\text{true}} &#x3D; R \exp([\delta\theta]_\times)<br>$$</p>
<p>å…¶æ¨å¯¼å¯å‚è€ƒã€Šç®€æ˜ ESKFã€‹ã€‚</p>
<hr>
<h2 id="3-IMU-é¢„æµ‹æ¨¡å‹ï¼ˆç®€è¿°ï¼‰"><a href="#3-IMU-é¢„æµ‹æ¨¡å‹ï¼ˆç®€è¿°ï¼‰" class="headerlink" title="3. IMU é¢„æµ‹æ¨¡å‹ï¼ˆç®€è¿°ï¼‰"></a>3. IMU é¢„æµ‹æ¨¡å‹ï¼ˆç®€è¿°ï¼‰</h2><p>é¢„æµ‹æ–¹ç¨‹ä¸ºï¼š</p>
<p>$$<br>\begin{aligned}<br>p_{k+1} &amp;&#x3D; p_k + v_k \Delta t + \frac{1}{2}(R_k(a_k - b_{a,k}) + g)\Delta t^2 \<br>v_{k+1} &amp;&#x3D; v_k + (R_k(a_k - b_{a,k}) + g)\Delta t \<br>R_{k+1} &amp;&#x3D; R_k \exp\big((\omega_k - b_{g,k})\Delta t\big)<br>\end{aligned}<br>$$</p>
<p>å¹¶ä¼´éšï¼š</p>
<ul>
<li>é›¶åéšæœºæ¸¸èµ°$(b_g, b_a)$</li>
<li>é‡åŠ›æ–¹å‘$ï¼ˆS2ï¼‰$</li>
<li>å¤–å‚ä¿æŒæ’å®šæˆ–ç¼“æ…¢å˜åŒ–</li>
<li>åæ–¹å·®æŒ‰ ESKF Jacobian æ›´æ–°</li>
</ul>
<p><strong>â†’ å®Œæ•´æ¨å¯¼å‚è€ƒã€Šç®€æ˜ ESKFã€‹ï¼Œæ­¤å¤„ä¸èµ˜è¿°ã€‚</strong></p>
<hr>
<h2 id="4-è½®é€Ÿè®¡çº¿é€Ÿåº¦è§‚æµ‹æ¨¡å‹ï¼ˆé‡ç‚¹ï¼‰"><a href="#4-è½®é€Ÿè®¡çº¿é€Ÿåº¦è§‚æµ‹æ¨¡å‹ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4. è½®é€Ÿè®¡çº¿é€Ÿåº¦è§‚æµ‹æ¨¡å‹ï¼ˆé‡ç‚¹ï¼‰"></a>4. è½®é€Ÿè®¡çº¿é€Ÿåº¦è§‚æµ‹æ¨¡å‹ï¼ˆé‡ç‚¹ï¼‰</h2><p>è½®é€Ÿè®¡æä¾›ä¿¡æ¯ï¼š</p>
<ul>
<li><strong>å‰å‘çº¿é€Ÿåº¦</strong>ï¼ˆåœ¨è½®ç³»åæ ‡ï¼‰</li>
<li><strong>ä¾§å‘é€Ÿåº¦ &#x3D; 0</strong>ï¼ˆNHC éå®Œæ•´æ€§çº¦æŸï¼‰</li>
<li><strong>å‚å‘é€Ÿåº¦ &#x3D; 0</strong>ï¼ˆNHCï¼‰</li>
</ul>
<p>å› æ­¤é‡æµ‹æ˜¯ä¸€ä¸ª 3Ã—1ï¼š</p>
<p>$$<br>z &#x3D;<br>\begin{bmatrix}<br>s_{\text{wheel}} v_{\text{wheel}} \<br>0 \<br>0<br>\end{bmatrix}<br>$$</p>
<hr>
<h2 id="5-ä¸ºä»€ä¹ˆè§‚æµ‹æ¨¡å‹é‡Œå¿…é¡»åŒ…å«è§’é€Ÿåº¦é¡¹-omega-times-T-WI-ï¼Ÿ"><a href="#5-ä¸ºä»€ä¹ˆè§‚æµ‹æ¨¡å‹é‡Œå¿…é¡»åŒ…å«è§’é€Ÿåº¦é¡¹-omega-times-T-WI-ï¼Ÿ" class="headerlink" title="5. ä¸ºä»€ä¹ˆè§‚æµ‹æ¨¡å‹é‡Œå¿…é¡»åŒ…å«è§’é€Ÿåº¦é¡¹ ( $\omega \times T_{WI}$ )ï¼Ÿ"></a>5. ä¸ºä»€ä¹ˆè§‚æµ‹æ¨¡å‹é‡Œå¿…é¡»åŒ…å«è§’é€Ÿåº¦é¡¹ ( $\omega \times T_{WI}$ )ï¼Ÿ</h2><p>è½®é€Ÿè®¡ä¸ä¸ IMU å…±ç‚¹ï¼Œå®ƒåç§»äº†ä¸€ä¸ªå‘é‡ï¼š</p>
<p>$$<br>T_{WI}<br>$$</p>
<p>å¯¹äºåˆšä½“è¿åŠ¨ï¼Œä»»æ„ç‚¹çš„ç¬æ—¶é€Ÿåº¦ä¸ºï¼š</p>
<p>$$<br>v(P)&#x3D;v(O)+\omega \times \overrightarrow{OP}<br>$$</p>
<p>å› æ­¤â€œè½®ç³»åŸç‚¹â€çš„çœŸå®é€Ÿåº¦æ˜¯ï¼š</p>
<p>$$<br>v_W &#x3D; R_{WI}^\top \left( R^\top v + \omega \times T_{WI} \right)<br>$$</p>
<p>è§£é‡Šï¼š</p>
<ul>
<li><strong>ç¬¬ä¸€é¡¹</strong> ($R^\top v$)ï¼šIMU çš„å¹³åŠ¨é€Ÿåº¦å˜æ¢åˆ°è½®ç³»</li>
<li><strong>ç¬¬äºŒé¡¹</strong> ($\omega \times T_{WI}$)ï¼šIMU æ—‹è½¬æ—¶â€œæ‹–åŠ¨â€è½®ç³»äº§ç”Ÿçš„é™„åŠ é€Ÿåº¦<br>â†’ éå¸¸å…³é”®ï¼åœ¨è½¬å¼¯æ—¶è´¡çŒ®å·¨å¤§</li>
<li>æœ€åå†ä» IMU åæ ‡æ¢åˆ°è½®ç³» ($R_{WI}^\top$)</li>
</ul>
<p>è‹¥ä¸åŠ å…¥æ­¤é¡¹ä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>è½¬å¼¯æ—¶å‡ºç°â€œå‡ä¾§å‘é€Ÿåº¦â€</li>
<li>å¤–å‚ä¼°è®¡åç§»</li>
<li>EKF æ®‹å·®ä¸ç¬¦åˆç‰©ç†æ„ä¹‰</li>
</ul>
<hr>
<h2 id="6-æœ€ç»ˆçš„è§‚æµ‹æ–¹ç¨‹"><a href="#6-æœ€ç»ˆçš„è§‚æµ‹æ–¹ç¨‹" class="headerlink" title="6. æœ€ç»ˆçš„è§‚æµ‹æ–¹ç¨‹"></a>6. æœ€ç»ˆçš„è§‚æµ‹æ–¹ç¨‹</h2><p>è½®ç³»è§‚æµ‹é¢„æµ‹æ¨¡å‹ä¸ºï¼š</p>
<p>$$<br>\boxed{<br>h(x) &#x3D; R_{WI}^\top<br>\left(<br>R^\top v + \omega \times T_{WI}<br>\right)<br>}<br>$$</p>
<p>æ®‹å·®ï¼š</p>
<p>$$<br>r &#x3D; z - h(x)<br>$$</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>(r_0): å‰å‘é€Ÿåº¦è¯¯å·®</li>
<li>(r_1): ä¾§å‘ NHC</li>
<li>(r_2): å‚å‘ NHC</li>
</ul>
<hr>
<h2 id="7-è§‚æµ‹æ–¹ç¨‹çš„-Jacobianï¼ˆæ ¸å¿ƒï¼‰"><a href="#7-è§‚æµ‹æ–¹ç¨‹çš„-Jacobianï¼ˆæ ¸å¿ƒï¼‰" class="headerlink" title="7. è§‚æµ‹æ–¹ç¨‹çš„ Jacobianï¼ˆæ ¸å¿ƒï¼‰"></a>7. è§‚æµ‹æ–¹ç¨‹çš„ Jacobianï¼ˆæ ¸å¿ƒï¼‰</h2><h3 id="7-1-å¯¹é€Ÿåº¦-v-çš„åå¯¼"><a href="#7-1-å¯¹é€Ÿåº¦-v-çš„åå¯¼" class="headerlink" title="7.1 å¯¹é€Ÿåº¦ ($v$) çš„åå¯¼"></a>7.1 å¯¹é€Ÿåº¦ ($v$) çš„åå¯¼</h3><p>$$<br>\frac{\partial r}{\partial v} &#x3D; - R_{WI}^\top R^\top<br>$$</p>
<h3 id="7-2-å¯¹å§¿æ€-R-çš„åå¯¼ï¼ˆå³ä¸å˜è¯¯å·®ï¼‰"><a href="#7-2-å¯¹å§¿æ€-R-çš„åå¯¼ï¼ˆå³ä¸å˜è¯¯å·®ï¼‰" class="headerlink" title="7.2 å¯¹å§¿æ€ ($R$) çš„åå¯¼ï¼ˆå³ä¸å˜è¯¯å·®ï¼‰"></a>7.2 å¯¹å§¿æ€ ($R$) çš„åå¯¼ï¼ˆå³ä¸å˜è¯¯å·®ï¼‰</h3><p>è¿™ä¸€èŠ‚åªç»™å‡ºç»“æœä¸ç‰©ç†å«ä¹‰ï¼Œè¯¦è§é™„å½•ï¼š<a href="#appendix-attitude-jacobian">10.1 å¯¹å§¿æ€ (R) çš„åå¯¼è¿‡ç¨‹</a></p>
<p>å·²çŸ¥ï¼š</p>
<p>$$<br>v_I &#x3D; R^\top v<br>$$</p>
<p>å¯¹å°å§¿æ€è¯¯å·® ($\delta\theta$)ï¼š</p>
<p>$$<br>\delta (R^\top v) \approx [v_I]_\times \delta \theta<br>$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$<br>\frac{\partial r}{\partial \delta\theta} &#x3D; -R_{WI}^\top [v_I]_\times<br>$$</p>
<h3 id="7-3-å¯¹é™€èºé›¶å-b-g"><a href="#7-3-å¯¹é™€èºé›¶å-b-g" class="headerlink" title="7.3 å¯¹é™€èºé›¶å ($b_g$)"></a>7.3 å¯¹é™€èºé›¶å ($b_g$)</h3><p>å› ä¸ºï¼š</p>
<p>$$<br>\omega &#x3D; gyro - b_g<br>$$</p>
<p>ä¸”ï¼š</p>
<p>$$<br>\omega \times T_{WI} &#x3D; [\omega]<em>\times T</em>{WI}<br>$$</p>
<p>å¯¹ (b_g)ï¼š</p>
<p>$$<br>\delta(\omega\times T_{WI}) &#x3D; -[T_{WI}]_\times \delta b_g<br>$$</p>
<p>æ‰€ä»¥ï¼š</p>
<p>$$<br>\frac{\partial r}{\partial b_g} &#x3D; -R_{WI}^\top [T_{WI}]_\times<br>$$</p>
<h3 id="7-4-å¯¹å¤–å‚æ—‹è½¬-R-WI"><a href="#7-4-å¯¹å¤–å‚æ—‹è½¬-R-WI" class="headerlink" title="7.4 å¯¹å¤–å‚æ—‹è½¬ ($R_{WI}$)"></a>7.4 å¯¹å¤–å‚æ—‹è½¬ ($R_{WI}$)</h3><p>é¢„æµ‹é€Ÿåº¦ï¼š</p>
<p>$$<br>h(x) &#x3D; R_{WI}^\top u,\quad u &#x3D; R^\top v + \omega\times T_{WI}<br>$$</p>
<p>å³ä¹˜ä¸€ä¸ªå°æ—‹è½¬è¯¯å·®ï¼š</p>
<p>$$<br>R_{WI}^\top \approx (I - [\delta\phi]<em>\times)R</em>{WI}^\top<br>$$</p>
<p>å¾—åˆ°ï¼š</p>
<p>$$<br>\frac{\partial r}{\partial \delta\phi} &#x3D; -[h(x)]_\times<br>$$</p>
<h3 id="7-5-å¯¹å¤–å‚å¹³ç§»-T-WI"><a href="#7-5-å¯¹å¤–å‚å¹³ç§»-T-WI" class="headerlink" title="7.5 å¯¹å¤–å‚å¹³ç§» ($T_{WI}$)"></a>7.5 å¯¹å¤–å‚å¹³ç§» ($T_{WI}$)</h3><p>åªå‡ºç°åœ¨ ($\omega\times T_{WI}$) ä¸­ï¼š</p>
<p>$$<br>\frac{\partial r}{\partial T_{WI}} &#x3D; -R_{WI}^\top [\omega]_\times<br>$$</p>
<h3 id="7-6-å¯¹è½®é€Ÿå°ºåº¦-s-text-wheel"><a href="#7-6-å¯¹è½®é€Ÿå°ºåº¦-s-text-wheel" class="headerlink" title="7.6 å¯¹è½®é€Ÿå°ºåº¦ ($s_{\text{wheel}}$)"></a>7.6 å¯¹è½®é€Ÿå°ºåº¦ ($s_{\text{wheel}}$)</h3><p>é‡æµ‹ç¬¬ä¸€é¡¹å³ï¼š</p>
<p>$$<br>z_0 &#x3D; s_{\text{wheel}} v_{\text{wheel}}<br>$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$<br>\frac{\partial r}{\partial s_{\text{wheel}}} &#x3D; \begin{bmatrix} v_{\text{wheel}} \ 0\ 0 \end{bmatrix}<br>$$</p>
<hr>
<h2 id="8-è§‚æµ‹å™ªå£°åæ–¹å·®-R"><a href="#8-è§‚æµ‹å™ªå£°åæ–¹å·®-R" class="headerlink" title="8. è§‚æµ‹å™ªå£°åæ–¹å·® ($R$)"></a>8. è§‚æµ‹å™ªå£°åæ–¹å·® ($R$)</h2><p>å»ºè®®ï¼š</p>
<ul>
<li><p><strong>å‰å‘é€Ÿåº¦ï¼š</strong></p>
<p>$$<br>R_{00} &#x3D; \sigma_\text{wheel}^2<br>$$</p>
</li>
<li><p><strong>NHC ä¾§å‘é€Ÿåº¦ï¼š</strong><br>åœ¨é«˜é€Ÿè½¬å¼¯æ—¶å¢åŠ å™ªå£°</p>
<p>$$<br>R_{11} &#x3D; \begin{cases} v_{\text{wheel}}|\omega| &amp; \text{(è½¬å¼¯)} \ \sigma_{y}^2 &amp; \text{(ç›´è¡Œ)} \end{cases}<br>$$</p>
</li>
<li><p><strong>NHC å‚å‘ï¼š</strong><br>å›ºå®šå°å™ªå£°</p>
<p>$$<br>R_{22} &#x3D; \sigma_{z}^2<br>$$</p>
</li>
<li><p>åŠ ä¸Šé™€èºå™ªå£°ç­‰æ•ˆé¡¹</p>
<p>$$<br>R +&#x3D; (R_{WI}^\top [T_{WI}]<em>\times) \sigma</em>\omega^2 (R_{WI}^\top [T_{WI}]_\times)^\top<br>$$</p>
</li>
</ul>
<hr>
<h2 id="9-æ€»ç»“"><a href="#9-æ€»ç»“" class="headerlink" title="9. æ€»ç»“"></a>9. æ€»ç»“</h2><h3 id="æœ¬æ–‡é‡ç‚¹ï¼š"><a href="#æœ¬æ–‡é‡ç‚¹ï¼š" class="headerlink" title="æœ¬æ–‡é‡ç‚¹ï¼š"></a>æœ¬æ–‡é‡ç‚¹ï¼š</h3><p>âœ” IMU ç”¨äºé«˜é¢‘é¢„æµ‹ï¼ˆå‚è€ƒã€Šç®€æ˜ ESKFã€‹ï¼‰<br>âœ” è½®é€Ÿè®¡ç”¨äºä½é¢‘æ›´æ–°ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>å‰å‘é€Ÿåº¦è§‚æµ‹</li>
<li>ä¾§å‘ + å‚å‘ NHCï¼ˆéå®Œæ•´çº¦æŸï¼‰<br>âœ” è§‚æµ‹å¿…é¡»åŒ…å«è§’é€Ÿåº¦é¡¹ ($\omega \times T_{WI}$)<br>âœ” ç»™å‡ºäº†å®Œæ•´ Jacobianï¼Œå¯ç›´æ¥ç”¨äºå®ç° ESKF æ›´æ–°</li>
</ul>
<hr>
<h2 id="10-é™„å½•"><a href="#10-é™„å½•" class="headerlink" title="10. é™„å½•"></a>10. é™„å½•</h2><p><a id="appendix-attitude-jacobian"></a></p>
<h3 id="10-1-å¯¹å§¿æ€-R-çš„åå¯¼è¿‡ç¨‹"><a href="#10-1-å¯¹å§¿æ€-R-çš„åå¯¼è¿‡ç¨‹" class="headerlink" title="10.1 å¯¹å§¿æ€ (R) çš„åå¯¼è¿‡ç¨‹"></a>10.1 å¯¹å§¿æ€ (R) çš„åå¯¼è¿‡ç¨‹</h3><p>è¿™é‡Œæ¨å¯¼çš„æ˜¯ï¼ˆå³ä¸å˜è¯¯å·®ä¸‹ï¼‰å¯¹å§¿æ€çš„å°æ‰°åŠ¨ $\delta\theta$ï¼Œé‡ $R^\top v$ çš„ä¸€é˜¶å˜åŒ–ï¼š</p>
<h4 id="10-1-1-é—®é¢˜æè¿°"><a href="#10-1-1-é—®é¢˜æè¿°" class="headerlink" title="10.1.1 é—®é¢˜æè¿°"></a>10.1.1 é—®é¢˜æè¿°</h4><p>æˆ‘ä»¬å…³å¿ƒçš„é‡æ˜¯</p>
<p>$$<br>y &#x3D; R^\top v<br>$$</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>$R \in SO(3)$ï¼šIMU çš„å§¿æ€ï¼ˆä¸–ç•Œâ†IMUï¼‰</li>
<li>$v \in \mathbb{R}^3$ï¼šä¸–ç•Œåæ ‡ç³»ä¸‹çš„æŸä¸ªå‘é‡ï¼ˆä¾‹å¦‚é€Ÿåº¦ï¼‰</li>
<li>$y$ï¼šè¯¥å‘é‡åœ¨ IMU åæ ‡ç³»ä¸‹çš„è¡¨ç¤º</li>
</ul>
<p>ç°åœ¨å‡è®¾å§¿æ€å­˜åœ¨ä¸€ä¸ª<strong>å°çš„å³ä¸å˜è¯¯å·®</strong> $\delta\theta$ï¼Œæ±‚ $y$ å¯¹ $\delta\theta$ çš„ä¸€é˜¶å˜åŒ–ã€‚</p>
<hr>
<h4 id="10-1-2-å³ä¸å˜å§¿æ€è¯¯å·®çš„å®šä¹‰"><a href="#10-1-2-å³ä¸å˜å§¿æ€è¯¯å·®çš„å®šä¹‰" class="headerlink" title="10.1.2 å³ä¸å˜å§¿æ€è¯¯å·®çš„å®šä¹‰"></a>10.1.2 å³ä¸å˜å§¿æ€è¯¯å·®çš„å®šä¹‰</h4><p>å³ä¸å˜è¯¯å·®ï¼ˆright-invariant errorï¼‰ä¸€èˆ¬å®šä¹‰ä¸ºï¼š</p>
<p>$$<br>R_{\text{true}} &#x3D; R \exp([\delta\theta]_\times)<br>$$</p>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>$R_{\text{true}}$ï¼šçœŸå®å§¿æ€</li>
<li>$R$ï¼šåä¹‰å§¿æ€</li>
<li>$\delta\theta \in \mathbb{R}^3$ï¼šIMU åæ ‡ç³»ä¸‹çš„å°è½¬è§’</li>
<li>$[\cdot]<em>\times$ï¼šå‰ä¹˜çŸ©é˜µï¼ˆskew-symmetric matrixï¼‰ï¼Œæ»¡è¶³<br>$$<br>[a]</em>\times b &#x3D; a \times b<br>$$</li>
</ul>
<p>â€œå°é‡â€çš„æŒ‡æ•°æ˜ å°„ä¸€é˜¶è¿‘ä¼¼ä¸ºï¼š</p>
<p>$$<br>\begin{aligned}<br>\exp([\delta\theta]<em>\times) &amp;\approx I + [\delta\theta]</em>\times \<br>\exp([\delta\theta]<em>\times)^\top &amp;\approx I - [\delta\theta]</em>\times<br>\end{aligned}<br>$$</p>
<hr>
<h4 id="10-1-3-æ‰°åŠ¨åçš„é‡æµ‹è¡¨è¾¾å¼"><a href="#10-1-3-æ‰°åŠ¨åçš„é‡æµ‹è¡¨è¾¾å¼" class="headerlink" title="10.1.3 æ‰°åŠ¨åçš„é‡æµ‹è¡¨è¾¾å¼"></a>10.1.3 æ‰°åŠ¨åçš„é‡æµ‹è¡¨è¾¾å¼</h4><p>å®šä¹‰åä¹‰é‡æµ‹ï¼š</p>
<p>$$<br>y :&#x3D; R^\top v<br>$$</p>
<p>çœŸå®å§¿æ€ä¸º $R_{\text{true}}$ æ—¶ï¼Œå¯¹åº”çœŸå®é‡æµ‹ä¸ºï¼š</p>
<p>$$<br>y_{\text{true}} &#x3D; R_{\text{true}}^\top v &#x3D; \exp([\delta\theta]_\times)^\top R^\top v<br>$$</p>
<p>ä½¿ç”¨ä¸€é˜¶è¿‘ä¼¼ï¼š</p>
<p>$$<br>\exp([\delta\theta]<em>\times)^\top \approx I - [\delta\theta]</em>\times<br>$$</p>
<p>å¾—åˆ°ï¼š</p>
<p>$$<br>y_{\text{true}} \approx (I - [\delta\theta]<em>\times) R^\top v &#x3D; y - [\delta\theta]</em>\times y<br>$$</p>
<p>äºæ˜¯å¢é‡ï¼ˆæ‰°åŠ¨ï¼‰ä¸ºï¼š</p>
<p>$$<br>\delta y :&#x3D; y_{\text{true}} - y \approx -[\delta\theta]_\times y<br>$$</p>
<hr>
<h4 id="10-1-4-åˆ©ç”¨å‰ä¹˜çŸ©é˜µæ’ç­‰å¼åŒ–ç®€"><a href="#10-1-4-åˆ©ç”¨å‰ä¹˜çŸ©é˜µæ’ç­‰å¼åŒ–ç®€" class="headerlink" title="10.1.4 åˆ©ç”¨å‰ä¹˜çŸ©é˜µæ’ç­‰å¼åŒ–ç®€"></a>10.1.4 åˆ©ç”¨å‰ä¹˜çŸ©é˜µæ’ç­‰å¼åŒ–ç®€</h4><p>è®° $v_I :&#x3D; y &#x3D; R^\top v$ï¼Œåˆ™ä¸Šå¼å¯å†™ä¸ºï¼š</p>
<p>$$<br>\delta y \approx -[\delta\theta]_\times v_I<br>$$</p>
<p>åˆ©ç”¨å‰ä¹˜çŸ©é˜µçš„æ’ç­‰å¼ï¼š</p>
<p>$$<br>[a]<em>\times b &#x3D; a \times b &#x3D; -b \times a &#x3D; -[b]</em>\times a<br>$$</p>
<p>ä»¤ $a &#x3D; \delta\theta$ï¼Œ$b &#x3D; v_I$ï¼Œåˆ™ï¼š</p>
<p>$$<br>[\delta\theta]<em>\times v_I &#x3D; -[v_I]</em>\times \delta\theta<br>$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$<br>-[\delta\theta]<em>\times v_I &#x3D; -(-[v_I]</em>\times \delta\theta) &#x3D; [v_I]_\times \delta\theta<br>$$</p>
<p>ä»£å› $\delta y$ï¼š</p>
<p>$$<br>\delta y \approx [v_I]_\times \delta\theta<br>$$</p>
<p>ä¹Ÿå°±æ˜¯ï¼š</p>
<p>$$<br>\boxed{<br>\delta(R^\top v) \approx [v_I]_\times \delta\theta, \quad v_I &#x3D; R^\top v<br>}<br>$$</p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/11/17/IMU-%E8%BD%AE%E9%80%9F%E8%AE%A1%E7%9A%84ESKF%E7%AE%80%E6%98%8E%E4%BB%8B%E7%BB%8D/" data-id="cuidcUXr6ELEZ_ifNO3tlrmt3" data-title="IMU+è½®é€Ÿè®¡çš„ESKFç®€æ˜ä»‹ç»" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2025/11/11/%E3%80%8A%E5%9B%9B%E6%B5%B7%E3%80%8B%EF%BC%8C%E4%B8%8D%E6%98%AF%E4%B8%80%E9%83%A8%E5%A5%BD%E7%9A%84%E7%94%B5%E5%BD%B1%EF%BC%8C%E4%BD%86%E6%98%AF%E5%BE%88%E9%9F%A9%E5%AF%92%E3%80%82/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">ã€Šå››æµ·ã€‹ï¼Œä¸æ˜¯ä¸€éƒ¨å¥½çš„ç”µå½±ï¼Œä½†æ˜¯å¾ˆéŸ©å¯’ã€‚</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">éšç¬”</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 10px;">éšç¬”</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/11/">November 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/11/17/IMU-%E8%BD%AE%E9%80%9F%E8%AE%A1%E7%9A%84ESKF%E7%AE%80%E6%98%8E%E4%BB%8B%E7%BB%8D/">IMU+è½®é€Ÿè®¡çš„ESKFç®€æ˜ä»‹ç»</a>
          </li>
        
          <li>
            <a href="/2025/11/11/%E3%80%8A%E5%9B%9B%E6%B5%B7%E3%80%8B%EF%BC%8C%E4%B8%8D%E6%98%AF%E4%B8%80%E9%83%A8%E5%A5%BD%E7%9A%84%E7%94%B5%E5%BD%B1%EF%BC%8C%E4%BD%86%E6%98%AF%E5%BE%88%E9%9F%A9%E5%AF%92%E3%80%82/">ã€Šå››æµ·ã€‹ï¼Œä¸æ˜¯ä¸€éƒ¨å¥½çš„ç”µå½±ï¼Œä½†æ˜¯å¾ˆéŸ©å¯’ã€‚</a>
          </li>
        
          <li>
            <a href="/2025/11/07/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%BC%80%E5%A7%8B/">åšå®¢çš„å¼€å§‹</a>
          </li>
        
          <li>
            <a href="/2025/11/05/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>